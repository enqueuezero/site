(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{487:function(t,a,e){"use strict";e.r(a);var s=e(54),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"language-grammar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#language-grammar"}},[t._v("#")]),t._v(" Language Grammar")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#context"}},[t._v("Context")])]),e("li",[e("a",{attrs:{href:"#patterns"}},[t._v("Patterns")]),e("ul",[e("li",[e("a",{attrs:{href:"#context-free-grammar"}},[t._v("Context-free Grammar")])]),e("li",[e("a",{attrs:{href:"#bnf"}},[t._v("BNF")])]),e("li",[e("a",{attrs:{href:"#ebnf"}},[t._v("EBNF")])]),e("li",[e("a",{attrs:{href:"#abnf"}},[t._v("ABNF")])]),e("li",[e("a",{attrs:{href:"#combinators"}},[t._v("Combinators")])])])]),e("li",[e("a",{attrs:{href:"#solutions"}},[t._v("Solutions")]),e("ul",[e("li",[e("a",{attrs:{href:"#ebnf-specification-examples"}},[t._v("EBNF Specification Examples")])]),e("li",[e("a",{attrs:{href:"#abnf-specification-examples"}},[t._v("ABNF Specification Examples")])]),e("li",[e("a",{attrs:{href:"#tools"}},[t._v("Tools")])]),e("li",[e("a",{attrs:{href:"#tutorial"}},[t._v("Tutorial")])])])]),e("li",[e("a",{attrs:{href:"#combinator-examples"}},[t._v("Combinator Examples")])]),e("li",[e("a",{attrs:{href:"#conclusions"}},[t._v("Conclusions")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"context"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#context"}},[t._v("#")]),t._v(" Context")]),t._v(" "),e("p",[t._v("There are growing number of programming languages. Each specific domain of problem might eventually derive a dedicated optimized programming language. We have below nontrivial languages that has been well adopted in programming world.")]),t._v(" "),e("ul",[e("li",[t._v("Assembly Languages.")]),t._v(" "),e("li",[t._v("System Programming Languages, such as C, C++, Rust, Go, Pony, etc.")]),t._v(" "),e("li",[t._v("Scripting Languages, such as Bash, Python, Ruby, Perl, PHP, etc.")]),t._v(" "),e("li",[t._v("Browser Scripting Languages, such as Javascript, Typescript, Coffescript, etc.")]),t._v(" "),e("li",[t._v("Markup Languages, such as HTML, XML, Markdown, reStructuredText, etc.")]),t._v(" "),e("li",[t._v("Query Languages, such as SQL, GraghQL.")])]),t._v(" "),e("p",[t._v("Not to mention there are hundreds of LISP dialects.")]),t._v(" "),e("p",[t._v("One thing we should aware of is that it's the syntax that shapes programming languages. It leads to different code when expressing same algorithm.")]),t._v(" "),e("h2",{attrs:{id:"patterns"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#patterns"}},[t._v("#")]),t._v(" Patterns")]),t._v(" "),e("p",[t._v("Grammar defines a language. Most programming languages are defined in context-free grammar.")]),t._v(" "),e("h3",{attrs:{id:"context-free-grammar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#context-free-grammar"}},[t._v("#")]),t._v(" Context-free Grammar")]),t._v(" "),e("p",[t._v("Grammar is basically a set of RULES.")]),t._v(" "),e("p",[t._v("A RULE has two parts:")]),t._v(" "),e("ul",[e("li",[t._v("Name.")]),t._v(" "),e("li",[t._v("Expansion.")])]),t._v(" "),e("p",[t._v("For example:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('IDENTIFIER: "[a-zA-Z_][a-zA-Z0-9_]*"\n')])])]),e("p",[t._v("This rule defines its name as IDENTIFIER, and expansion should match the given regex. Code "),e("code",[t._v("tmp")]),t._v(", "),e("code",[t._v("array1")]),t._v(", "),e("code",[t._v("_private_field")]),t._v(", "),e("code",[t._v("Resolver")]),t._v(" are valid IDENTIFIER, while "),e("code",[t._v("1f")]),t._v(", "),e("code",[t._v("for-loop")]),t._v(" are not valid.")]),t._v(" "),e("h3",{attrs:{id:"bnf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bnf"}},[t._v("#")]),t._v(" BNF")]),t._v(" "),e("p",[t._v("Backus-Naur form, or BNF, is a notation of language grammar.")]),t._v(" "),e("p",[t._v("Below snippet is interesting. It describes BNF in BNF:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' <syntax>         ::= <rule> | <rule> <syntax>\n <rule>           ::= <opt-whitespace> "<" <rule-name> ">" <opt-whitespace> "::=" <opt-whitespace> <expression> <line-end>\n <opt-whitespace> ::= " " <opt-whitespace> | ""\n <expression>     ::= <list> | <list> <opt-whitespace> "|" <opt-whitespace> <expression>\n <line-end>       ::= <opt-whitespace> <EOL> | <line-end> <line-end>\n <list>           ::= <term> | <term> <opt-whitespace> <list>\n <term>           ::= <literal> | "<" <rule-name> ">"\n <literal>        ::= \'"\' <text1> \'"\' | "\'" <text2> "\'"\n <text1>          ::= "" | <character1> <text1>\n <text2>          ::= "" | <character2> <text2>\n <character>      ::= <letter> | <digit> | <symbol>\n <letter>         ::= "A" | "B" | "C" | "D" | "E" | "F" | "G" | "H" | "I" | "J" | "K" | "L" | "M" | "N" | "O" | "P" | "Q" | "R" | "S" | "T" | "U" | "V" | "W" | "X" | "Y" | "Z" | "a" | "b" | "c" | "d" | "e" | "f" | "g" | "h" | "i" | "j" | "k" | "l" | "m" | "n" | "o" | "p" | "q" | "r" | "s" | "t" | "u" | "v" | "w" | "x" | "y" | "z"\n <digit>          ::= "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"\n <symbol>         ::=  "|" | " " | "!" | "#" | "$" | "%" | "&" | "(" | ")" | "*" | "+" | "," | "-" | "." | "/" | ":" | ";" | ">" | "=" | "<" | "?" | "@" | "[" | "\\" | "]" | "^" | "_" | "`" | "{" | "}" | "~"\n <character1>     ::= <character> | "\'"\n <character2>     ::= <character> | \'"\'\n <rule-name>      ::= <letter> | <rule-name> <rule-char>\n <rule-char>      ::= <letter> | <digit> | "-"\n')])])]),e("h3",{attrs:{id:"ebnf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ebnf"}},[t._v("#")]),t._v(" EBNF")]),t._v(" "),e("p",[t._v("Extended Backus-Naur form, or EBNF, has more advancing features than BNF.")]),t._v(" "),e("p",[t._v("EBNF has below features that BNF doesn't have (based on ISO/IEC 14977):")]),t._v(" "),e("ul",[e("li",[t._v("Repeat: "),e("code",[t._v("{ ... }")]),t._v(".")]),t._v(" "),e("li",[t._v("Optional: "),e("code",[t._v("[ ... ]")]),t._v(".")]),t._v(" "),e("li",[t._v("Grouping "),e("code",[t._v("( ... )")]),t._v(".")])]),t._v(" "),e("p",[t._v("Let's see EBNF describing in EBNF:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('letter = "A" | "B" | "C" | "D" | "E" | "F" | "G"\n       | "H" | "I" | "J" | "K" | "L" | "M" | "N"\n       | "O" | "P" | "Q" | "R" | "S" | "T" | "U"\n       | "V" | "W" | "X" | "Y" | "Z" | "a" | "b"\n       | "c" | "d" | "e" | "f" | "g" | "h" | "i"\n       | "j" | "k" | "l" | "m" | "n" | "o" | "p"\n       | "q" | "r" | "s" | "t" | "u" | "v" | "w"\n       | "x" | "y" | "z" ;\ndigit = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;\nsymbol = "[" | "]" | "{" | "}" | "(" | ")" | "<" | ">"\n       | "\'" | \'"\' | "=" | "|" | "." | "," | ";" ;\ncharacter = letter | digit | symbol | "_" ;\n \nidentifier = letter , { letter | digit | "_" } ;\nterminal = "\'" , character , { character } , "\'" \n         | \'"\' , character , { character } , \'"\' ;\n \nlhs = identifier ;\nrhs = identifier\n     | terminal\n     | "[" , rhs , "]"\n     | "{" , rhs , "}"\n     | "(" , rhs , ")"\n     | rhs , "|" , rhs\n     | rhs , "," , rhs ;\n\nrule = lhs , "=" , rhs , ";" ;\ngrammar = { rule } ;\n')])])]),e("h3",{attrs:{id:"abnf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#abnf"}},[t._v("#")]),t._v(" ABNF")]),t._v(" "),e("p",[t._v("Augmented Backus-Naur Form, or ABNF, is very similar to EBNF except the notation is different. It's being described in RFC 5234 specification.")]),t._v(" "),e("p",[t._v("Comparison:")]),t._v(" "),e("ul",[e("li",[t._v("BNF: Simple rules.")]),t._v(" "),e("li",[t._v("EBNF: BNF + a few additional rules.")]),t._v(" "),e("li",[t._v("ABNF: BNF + a few additional rules.")])]),t._v(" "),e("h3",{attrs:{id:"combinators"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#combinators"}},[t._v("#")]),t._v(" Combinators")]),t._v(" "),e("p",[t._v("Functional programming languages provide combinators for implementing parser easier.")]),t._v(" "),e("p",[t._v("The definition of the new language is as the same form of the implementation languages. Such languages have strong type inference, such as Haskell, F#.")]),t._v(" "),e("h2",{attrs:{id:"solutions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#solutions"}},[t._v("#")]),t._v(" Solutions")]),t._v(" "),e("h3",{attrs:{id:"ebnf-specification-examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ebnf-specification-examples"}},[t._v("#")]),t._v(" EBNF Specification Examples")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://docs.python.org/3/reference/grammar.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python Full Grammar specification"),e("OutboundLink")],1),t._v(" in EBNF.")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://golang.org/ref/spec",target:"_blank",rel:"noopener noreferrer"}},[t._v("Go Programming Language Specification"),e("OutboundLink")],1),t._v(" in EBNF.")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://rpython.readthedocs.io/en/latest/rlib.html#ebnf",target:"_blank",rel:"noopener noreferrer"}},[t._v("rPython EBNF Module"),e("OutboundLink")],1),t._v(". Note that rPython provides a modified EBNF notations. In particular, a JSON format can be described as below:")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('STRING: "\\\\"[^\\\\\\\\"]*\\\\"";\nNUMBER: "\\-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][\\+\\-]?[0-9]+)?";\nIGNORE: " |\\n";\nvalue: <STRING> | <NUMBER> | <object> | <array> | <"null"> |\n       <"true"> | <"false">;\nobject: ["{"] (entry [","])* entry ["}"];\narray: ["["] (value [","])* value ["]"];\nentry: STRING [":"] value;\n')])])]),e("h3",{attrs:{id:"abnf-specification-examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#abnf-specification-examples"}},[t._v("#")]),t._v(" ABNF Specification Examples")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://tools.ietf.org/html/rfc5322#section-1.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("Internet Message Format"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"tools"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tools"}},[t._v("#")]),t._v(" Tools")]),t._v(" "),e("ul",[e("li",[t._v("Go package "),e("code",[t._v("ebnf")]),t._v(" is ready to use. Go check "),e("a",{attrs:{href:"https://godoc.org/golang.org/x/exp/ebnf",target:"_blank",rel:"noopener noreferrer"}},[t._v("package ebnf"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("li",[t._v("rPython is a good library to start implementing your own language.")]),t._v(" "),e("li",[e("code",[t._v("instaparse")]),t._v(" has well designed API. Go check "),e("a",{attrs:{href:"https://github.com/Engelberg/instaparse",target:"_blank",rel:"noopener noreferrer"}},[t._v("Engelberg/instaparse"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"tutorial"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tutorial"}},[t._v("#")]),t._v(" Tutorial")]),t._v(" "),e("p",[t._v("Let's starting implementing something in rPython! In this demo, we will create a simple syntax that can print values in the form like "),e("code",[t._v("print 1 + 1;")]),t._v(", etc.")]),t._v(" "),e("p",[t._v("Step 1, we need to define a number.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('NUMBER: "\\-?(0|[1-9][0-9]*)(\\.[0-9]+)?";\n')])])]),e("p",[t._v("Step 2, we expand operators:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('expr : NUMBER >(arith_op NUMBER)+< | <NUMBER>;\narith_op: <"+"> | <"-">;\n')])])]),e("p",[t._v("Step 3, we define print statement as entry:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('IGNORE: " |\\n";\nmain: <expr> [EOF];\n')])])]),e("p",[t._v("Now we have all syntax defined. We only need to write an interpreter to turn the tokens into values.")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("symbol "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        expr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("eval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("expr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elif")]),t._v(" ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("symbol "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expr'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        term "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("eval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            op"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" term_i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("eval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" op"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("additional_info "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'+'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                term "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" term "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" term_i\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elif")]),t._v(" op"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("additional_info "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                term "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" term "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" term_i\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" term\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elif")]),t._v(" ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("symbol "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NUMBER'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("additional_info"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startswith"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("additional_info"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("additional_info"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("raise")]),t._v(" ValueError"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unknown ast.'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("Full source code is hosted in "),e("a",{attrs:{href:"https://gist.github.com/soasme/9cf367101f5fe34494b1a3b388f3edf4",target:"_blank",rel:"noopener noreferrer"}},[t._v("gist"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("$ pip install rpython\n$ python ebnf"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("demo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("C\n")])])]),e("h2",{attrs:{id:"combinator-examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#combinator-examples"}},[t._v("#")]),t._v(" Combinator Examples")]),t._v(" "),e("p",[t._v("Check out this awesome tutorial series: "),e("a",{attrs:{href:"https://fsharpforfunandprofit.com/posts/understanding-parser-combinators/",target:"_blank",rel:"noopener noreferrer"}},[t._v("1"),e("OutboundLink")],1),t._v(" | "),e("a",{attrs:{href:"https://fsharpforfunandprofit.com/posts/understanding-parser-combinators-2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("2"),e("OutboundLink")],1),t._v(" | "),e("a",{attrs:{href:"https://fsharpforfunandprofit.com/posts/understanding-parser-combinators-3/",target:"_blank",rel:"noopener noreferrer"}},[t._v("3"),e("OutboundLink")],1),t._v(" | "),e("a",{attrs:{href:"https://fsharpforfunandprofit.com/posts/understanding-parser-combinators-4/",target:"_blank",rel:"noopener noreferrer"}},[t._v("4"),e("OutboundLink")],1),t._v(" written in F#.")]),t._v(" "),e("h2",{attrs:{id:"conclusions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#conclusions"}},[t._v("#")]),t._v(" Conclusions")]),t._v(" "),e("p",[t._v("Implement your own language might sound crazy but it's very doable. With these mature libraries, you don't necessarily need to understand complicated parser theory but still can create something! If you're interested in create a grammar syntax of specification and protocols, learn these libraries and try to build a tiny prototype to demonstrate your ideas.")]),t._v(" "),e("p",[t._v("Go check "),e("a",{attrs:{href:"https://github.com/soasme/ao",target:"_blank",rel:"noopener noreferrer"}},[t._v("ao"),e("OutboundLink")],1),t._v(" language I wrote. It's a minimal interpreter language with its runtime implemented in only 500+ lines of code. 😃")])])}),[],!1,null,null,null);a.default=r.exports}}]);