(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{485:function(e,r,t){"use strict";t.r(r);var a=t(54),n=Object(a.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"pseudo-random-numbers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pseudo-random-numbers"}},[e._v("#")]),e._v(" Pseudo-Random Numbers")]),e._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#overview"}},[e._v("Overview")])]),t("li",[t("a",{attrs:{href:"#terms"}},[e._v("Terms")])]),t("li",[t("a",{attrs:{href:"#use"}},[e._v("Use")])]),t("li",[t("a",{attrs:{href:"#patterns"}},[e._v("Patterns")]),t("ul",[t("li",[t("a",{attrs:{href:"#pseudo-means-recurring"}},[e._v("Pseudo means recurring")])]),t("li",[t("a",{attrs:{href:"#large-period-is-safer"}},[e._v("Large period is safer")])]),t("li",[t("a",{attrs:{href:"#seed-determines-the-rest"}},[e._v("Seed determines the rest")])]),t("li",[t("a",{attrs:{href:"#reproduce-by-resetting-a-known-seed"}},[e._v("Reproduce by resetting a known seed")])]),t("li",[t("a",{attrs:{href:"#insecure"}},[e._v("Insecure")])]),t("li",[t("a",{attrs:{href:"#extend-apis"}},[e._v("Extend APIs")])])])]),t("li",[t("a",{attrs:{href:"#solutions"}},[e._v("Solutions")]),t("ul",[t("li",[t("a",{attrs:{href:"#mersenne-twister"}},[e._v("Mersenne Twister")])]),t("li",[t("a",{attrs:{href:"#linear-congruential-generator"}},[e._v("Linear Congruential Generator")])])])]),t("li",[t("a",{attrs:{href:"#mix"}},[e._v("Mix")])]),t("li",[t("a",{attrs:{href:"#what-else"}},[e._v("What else?")])]),t("li",[t("a",{attrs:{href:"#thoughts"}},[e._v("Thoughts")])]),t("li",[t("a",{attrs:{href:"#conclusion"}},[e._v("Conclusion")])]),t("li",[t("a",{attrs:{href:"#credit"}},[e._v("Credit")])]),t("li",[t("a",{attrs:{href:"#references"}},[e._v("References")])])])]),t("p"),e._v(" "),t("h2",{attrs:{id:"overview"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),t("p",[e._v("PRNG or Pseudo-random number generators are used for generating numbers distributed randomly.")]),e._v(" "),t("p",[e._v("The reason of being pseudo-random is that the PRNG algorithm doesn't generate true-random information actually.")]),e._v(" "),t("h2",{attrs:{id:"terms"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#terms"}},[e._v("#")]),e._v(" Terms")]),e._v(" "),t("ul",[t("li",[e._v("RNG: Random Number Generators. It's a general classification regardless of generating psuedo-random or true-random numbers.")]),e._v(" "),t("li",[e._v("PRNG: Pseudo-Random Number Generators. The "),t("code",[e._v("pseudo")]),e._v(" here means the generator would eventually repeating a same sequence of numbers over a certain period.")]),e._v(" "),t("li",[e._v("TRNG: True-Random Number Generators. The "),t("code",[e._v("true")]),e._v(" here means we have no way to truly detect the next number being generated at any given time.")])]),e._v(" "),t("p",[e._v("We will cover PRNG in this post.")]),e._v(" "),t("h2",{attrs:{id:"use"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#use"}},[e._v("#")]),e._v(" Use")]),e._v(" "),t("p",[e._v("In Python, "),t("code",[e._v("random.random()")]),e._v(" returns the next random floating point number in the range "),t("code",[e._v("[0.0, 1.0)")]),e._v(". It's an example of Mersenne Twister algorithm we'll cover later.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ python -c "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"import random; print(random.random())"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.9997071591954676")]),e._v("\n\n$ python -c "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"import random; print(random.random())"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.7442605999548604")]),e._v("\n")])])]),t("p",[e._v("In Bash, you can use the environ variable "),t("code",[e._v("$RANDOM")]),e._v(" for a random integer between 0 and 32767 (2^15-1). It's an example of Linear Congruential Generator algorithm we'll cover later as well.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$RANDOM")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("16857")]),e._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$RANDOM")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("12485")]),e._v("\n")])])]),t("p",[e._v("Note: for security reason, please don't use the above method for getting pseudo-random numbers, for example, for cryptography usage. You don't to be hacked, right?")]),e._v(" "),t("h2",{attrs:{id:"patterns"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#patterns"}},[e._v("#")]),e._v(" Patterns")]),e._v(" "),t("h3",{attrs:{id:"pseudo-means-recurring"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pseudo-means-recurring"}},[e._v("#")]),e._v(" Pseudo means recurring")]),e._v(" "),t("p",[e._v("The PRNGs have a period of number recurring.")]),e._v(" "),t("p",[e._v("For example, in sequence "),t("code",[e._v("1 4 3 2 5 1 4 3 2 5 1 4 3 2 5")]),e._v(", the "),t("code",[e._v("1 4 3 2 5")]),e._v(" recurs every 5 numbers.\nFor a PRNG based on such sequence, whenever you see "),t("code",[e._v("1")]),e._v(" as random number, "),t("code",[e._v("4")]),e._v(" will always be the next number.\nThe recurring numbers determine that the order of numbers is fixed rather than randomized.")]),e._v(" "),t("p",[e._v("The big picture behind the PRNG is like a fixed table of such similar sequence.")]),e._v(" "),t("h3",{attrs:{id:"large-period-is-safer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#large-period-is-safer"}},[e._v("#")]),e._v(" Large period is safer")]),e._v(" "),t("p",[e._v("You might be wondering why do people still want pseudo-random numbers anyway?")]),e._v(" "),t("p",[e._v("The answer is as long as the period is large enough and you start from different positions in the sequence, you're almost unable to get a same set of random numbers during the life cycle of your application. If it happens, oh poor man, please restart your computer periodically and issue resolved.")]),e._v(" "),t("p",[e._v("From the engineering perspective, we don't need things absolutely correct but good enough. As a side quote, below is from the bash.git repo "),t("a",{attrs:{href:"https://git.savannah.gnu.org/cgit/bash.git/tree/variables.c#n1304",target:"_blank",rel:"noopener noreferrer"}},[e._v("1"),t("OutboundLink")],1),e._v(":")]),e._v(" "),t("blockquote",[t("p",[e._v("This one isn't very good, but a more complicated one is overkill.")])]),e._v(" "),t("h3",{attrs:{id:"seed-determines-the-rest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#seed-determines-the-rest"}},[e._v("#")]),e._v(" Seed determines the rest")]),e._v(" "),t("p",[e._v("When using the PRNG libraries, you need to set the initial state as a seed.")]),e._v(" "),t("p",[e._v("If you didn't set the seed for the random call, it's up to language or library designer on how to assign one for you.\nThe current system time will probably be used.")]),e._v(" "),t("p",[e._v("Once you call a random function, the PRNG libraries will update their internal state for the generator so that you won't get a same number next time.")]),e._v(" "),t("h3",{attrs:{id:"reproduce-by-resetting-a-known-seed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reproduce-by-resetting-a-known-seed"}},[e._v("#")]),e._v(" Reproduce by resetting a known seed")]),e._v(" "),t("p",[e._v("As long as you provide the same seed again, the PRNG libraries will reproduce the same random results for you.")]),e._v(" "),t("h3",{attrs:{id:"insecure"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#insecure"}},[e._v("#")]),e._v(" Insecure")]),e._v(" "),t("p",[e._v("Usually, you do not want to use the standard "),t("code",[e._v("random")]),e._v(" module for cryptographic operations, since the PRNG algorithms are cryptographically insecure.")]),e._v(" "),t("p",[e._v("It's recommended to read "),t("a",{attrs:{href:"https://www.2uo.de/myths-about-urandom",target:"_blank",rel:"noopener noreferrer"}},[e._v("Myths about /dev/urandom"),t("OutboundLink")],1),e._v(". TL;DR, just use "),t("code",[e._v("/dev/urandom")]),e._v(" on UNIX platform or "),t("code",[e._v("CryptGenRandom")]),e._v(" on Windows.")]),e._v(" "),t("h3",{attrs:{id:"extend-apis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extend-apis"}},[e._v("#")]),e._v(" Extend APIs")]),e._v(" "),t("p",[e._v("There are several variants of random APIs:")]),e._v(" "),t("ul",[t("li",[e._v("Get a sequence of random bits.")]),e._v(" "),t("li",[e._v("Get a random character.")]),e._v(" "),t("li",[e._v("Get a random string.")]),e._v(" "),t("li",[e._v("Get a random integer.")]),e._v(" "),t("li",[e._v("Get a random floating number.")]),e._v(" "),t("li",[e._v("Choose an element from an array.")]),e._v(" "),t("li",[e._v("Shuffle the array.")]),e._v(" "),t("li",[e._v("Get a sample from an array.")]),e._v(" "),t("li",[e._v("Get a random number in designated distribution, for example, Beta distribution, Exponential distribution, Gamma Distribution, etc.")])]),e._v(" "),t("h2",{attrs:{id:"solutions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#solutions"}},[e._v("#")]),e._v(" Solutions")]),e._v(" "),t("h3",{attrs:{id:"mersenne-twister"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mersenne-twister"}},[e._v("#")]),e._v(" Mersenne Twister")]),e._v(" "),t("p",[e._v("Mersenne Twister algorithm is a PRNG that produces 53-bit precision floats in a period of 2^19937-1. It's one of the most extensively tested RNGs.")]),e._v(" "),t("p",[e._v("People like it because it's fast, thread-safe, and efficient. The extensive period reduces the probability of causing issues.")]),e._v(" "),t("p",[e._v("The disadvantage of Mersenne Twister is that it uses relatively larger buffer than other PRNG algorithms.")]),e._v(" "),t("p",[e._v("The Mersenne Twister is used in below systems or libraries: Python, Ruby, R, PHP, Common Lisp, C++ Boost, Julia, Octave, Excel, Mathematica, etc.")]),e._v(" "),t("h3",{attrs:{id:"linear-congruential-generator"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linear-congruential-generator"}},[e._v("#")]),e._v(" Linear Congruential Generator")]),e._v(" "),t("p",[e._v("The LCG or linear congruential generator is yet another pseudo-random number generator calculated with a discontinuous piecewise linear equation. It's one of the oldest and best-known RNGs. People like it because it's easy to understand and easily implemented.")]),e._v(" "),t("p",[e._v("The period of LCG depends on the parameter. If the parameters are too small, it tends to be problematic. Otherwise, it creates known and long periods. For performance consideration, the periods of LCG are usually between 2^32 to 2^64.")]),e._v(" "),t("p",[e._v("The advantage of LCG is that it uses minimal RAM. The disadvantage of LCG is its relatively small period.")]),e._v(" "),t("p",[e._v("The LCG is used in below systems or libraries: ANSI C, C99, C11, POSIX, glibc, muslc, bash,  Java(modified version of LCG).")]),e._v(" "),t("h2",{attrs:{id:"mix"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mix"}},[e._v("#")]),e._v(" Mix")]),e._v(" "),t("p",[e._v("A typical implementation of PRNG comprised of the two PRNG algorithm introduced above:")]),e._v(" "),t("ul",[t("li",[e._v("Use LCG for seed data.")]),e._v(" "),t("li",[e._v("Use Mersenne Twister for generating a pseudo-random number.")])]),e._v(" "),t("h2",{attrs:{id:"what-else"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-else"}},[e._v("#")]),e._v(" What else?")]),e._v(" "),t("p",[e._v('Please read "The Art of Computer Programming, Volume 2". In this book, Knuth has in-depth research on generating random numbers.')]),e._v(" "),t("h2",{attrs:{id:"thoughts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#thoughts"}},[e._v("#")]),e._v(" Thoughts")]),e._v(" "),t("p",[e._v("Oh, TRNG? With the help of some magic device, you might be able to get random numbers. For example, since the weather system is a chaos system, meaning no one can accurately predict it, you can generate random numbers based on the history of temperature, humidity, wind speed or things like that. You can find many more good indicators in natural world or in the universe.")]),e._v(" "),t("p",[e._v("Since the start of the Big Bang, everything seems just move in their own way. It's still a mystery whether everything is deterministic or not. If so, then all TRNG turns into PRNG! However, no one can prove that.")]),e._v(" "),t("h2",{attrs:{id:"conclusion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),t("ul",[t("li",[e._v('The PRNG generates "random" numbers which would recur eventually over a period.')]),e._v(" "),t("li",[e._v("The Mersenne Twister and LCG are the two popular PRNG algorithms.")]),e._v(" "),t("li",[e._v("Don't use PRNG for cryptographic operations.")])]),e._v(" "),t("h2",{attrs:{id:"credit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#credit"}},[e._v("#")]),e._v(" Credit")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://reddit.com/u/whetu",target:"_blank",rel:"noopener noreferrer"}},[e._v("/u/whetu"),t("OutboundLink")],1),e._v(": Thanks for providing so much corrections.")])]),e._v(" "),t("h2",{attrs:{id:"references"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[e._v("#")]),e._v(" References")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Random_number_generation",target:"_blank",rel:"noopener noreferrer"}},[e._v("Random number generation"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://softwareengineering.stackexchange.com/questions/109724/how-do-random-number-generators-work",target:"_blank",rel:"noopener noreferrer"}},[e._v("How do random number generators work"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Linear_congruential_generator",target:"_blank",rel:"noopener noreferrer"}},[e._v("Linear congruential generator"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.python.org/3/library/random.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Python random"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://cryptography.io/en/latest/random-numbers/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cryptography"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Mersenne_Twister",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mersenne Twister"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.reddit.com/r/bash/comments/9ewljx/pseudorandom_numbers/e5s75iz/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reddit Discussion"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=n.exports}}]);