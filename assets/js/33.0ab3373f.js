(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{417:function(e,t,a){"use strict";a.r(t);var s=a(54),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"job-queue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#job-queue"}},[e._v("#")]),e._v(" Job Queue")]),e._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#context"}},[e._v("Context")])]),a("li",[a("a",{attrs:{href:"#overview"}},[e._v("Overview")])]),a("li",[a("a",{attrs:{href:"#use"}},[e._v("Use")])]),a("li",[a("a",{attrs:{href:"#common-pattern"}},[e._v("Common Pattern")]),a("ul",[a("li",[a("a",{attrs:{href:"#setup-message-queue"}},[e._v("Setup Message Queue")])]),a("li",[a("a",{attrs:{href:"#setup-queue-and-connection"}},[e._v("Setup Queue and Connection")])]),a("li",[a("a",{attrs:{href:"#publish-the-job"}},[e._v("Publish the job")])]),a("li",[a("a",{attrs:{href:"#dedicated-worker-as-consumer"}},[e._v("Dedicated Worker as Consumer")])]),a("li",[a("a",{attrs:{href:"#monitoring"}},[e._v("Monitoring")])]),a("li",[a("a",{attrs:{href:"#job-context"}},[e._v("Job Context")])]),a("li",[a("a",{attrs:{href:"#result-storage"}},[e._v("Result Storage")])]),a("li",[a("a",{attrs:{href:"#error-handling"}},[e._v("Error Handling")])])])]),a("li",[a("a",{attrs:{href:"#comparisons"}},[e._v("Comparisons")])]),a("li",[a("a",{attrs:{href:"#conclusion"}},[e._v("Conclusion")])])])]),a("p"),e._v(" "),a("h2",{attrs:{id:"context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#context"}},[e._v("#")]),e._v(" Context")]),e._v(" "),a("p",[e._v("In request-response model server usually has  very short time to run transactions, and thus it doesn't have enough time to handle time-consuming jobs. For example, the web server needs to respond in less than 30 seconds, while an API importing his/her data might need to take 5 minutes.")]),e._v(" "),a("p",[e._v("Job Queue is a general solution to solve the problem.")]),e._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("A Job queue, sometimes task queue or batch queue, is a data structure containing jobs to run outside the common request-response cycle.")]),e._v(" "),a("p",[e._v("A job is a data structure containing running context, and usually encoded as strings or byte streams in job queue.")]),e._v(" "),a("p",[e._v("A job producer initializes jobs, serializes them and sends them out. The producer can be the HTTP process, desktop GUI main process, or anything that is required to be responsive.")]),e._v(" "),a("p",[e._v("A job consumer receives jobs from the job queue, deserializes them and runs jobs in isolated environment.")]),e._v(" "),a("h2",{attrs:{id:"use"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#use"}},[e._v("#")]),e._v(" Use")]),e._v(" "),a("ul",[a("li",[e._v("Do offline calculations, for example, training machine learning models, updating loads of records in database, etc.")]),e._v(" "),a("li",[e._v("Interact with third-party services, for example, sending emails or text messages.")]),e._v(" "),a("li",[e._v("Let backup system do actual work without idling the compute resources.")])]),e._v(" "),a("h2",{attrs:{id:"common-pattern"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#common-pattern"}},[e._v("#")]),e._v(" Common Pattern")]),e._v(" "),a("p",[e._v("Below involves a set of popular job queue frameworks like Python-RQ, Celery, and Sidekiq. By comparing their APIs and design philosophies, we could have a deeper understanding of job queue.")]),e._v(" "),a("h3",{attrs:{id:"setup-message-queue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-message-queue"}},[e._v("#")]),e._v(" Setup Message Queue")]),e._v(" "),a("p",[e._v("First, run a Message Queue software. It can be Redis, RabbitMQ, ZeroMQ, Disque, etc. Without the Message Queue running, the publisher can't publish jobs and the consumer would very likely crash. However, Job Queue won't launch Message Queue for you usually, meaning you need to manually bring up Message Queue instance before running a Job Queue.")]),e._v(" "),a("h3",{attrs:{id:"setup-queue-and-connection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-queue-and-connection"}},[e._v("#")]),e._v(" Setup Queue and Connection")]),e._v(" "),a("p",[e._v("Job Queue usually requires you to define a "),a("code",[e._v("queue")]),e._v(" object. The setup function usually needs the connection parameters of Message Queue and return the job queue object. This queue object encapsulates all functionalities a producer needs.")]),e._v(" "),a("p",[e._v("For example, in Python-RQ,")]),e._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" redis "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" Redis\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" rq "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" Queue\n\nrq "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" Queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("connection"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("Redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("For example, in Celery,")]),e._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" celery "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" Celery\n\ncelery "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" Celery"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'tasks'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" broker"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'pyamqp://guest@localhost//'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("Note that some frameworks many have already created a Job Queue so you only need to configure it. For example, in Sidekiq,")]),e._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("require")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'sidekiq'")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[e._v("Sidekiq")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("configure_server "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("do")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("config"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n  config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("redis "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'redis://redis.svc:6379/0'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("end")]),e._v("\n")])])]),a("h3",{attrs:{id:"publish-the-job"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#publish-the-job"}},[e._v("#")]),e._v(" Publish the job")]),e._v(" "),a("p",[e._v("Almost all framework try to simplify the effort of publishing the job. The API has two common kinds:")]),e._v(" "),a("ul",[a("li",[e._v("Enqueue Plain Function")]),e._v(" "),a("li",[e._v("Make Plain Function Asynchronous")])]),e._v(" "),a("p",[e._v("###! Enqueue Plain Function")]),e._v(" "),a("p",[e._v("Define plain function, and use the queue to enqueue function call.")]),e._v(" "),a("p",[e._v("For example, in Python-RQ,")]),e._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("def")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("count_words_at_url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\nrq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("enqueue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("count_words_at_url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'https://enqueuezero.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("###! Make Plain Function Asynchronous")]),e._v(" "),a("p",[e._v("Decorate plain function with the queue to make it asynchronous.")]),e._v(" "),a("p",[e._v("For example, in Celery,")]),e._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[e._v("@celery"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("task")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("def")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("count_words_at_url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\ncount_words_at_url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("delay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'https://enqueuezero.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("For example, in Sidekiq,")]),e._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("CountWordsAtURLWorker")]),e._v("\n  include Sidekiq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("Worker\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("def")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("perform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" do "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n        r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("read"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("split"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("size\n    end\n  end\nend\n\nCountWordsAtURLWorker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("perform_async"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'https://enqueuezero.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("h3",{attrs:{id:"dedicated-worker-as-consumer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dedicated-worker-as-consumer"}},[e._v("#")]),e._v(" Dedicated Worker as Consumer")]),e._v(" "),a("p",[e._v("Most Job Queue softwares take over the worker completely, meaning you only need to start the workers and let them run. The worker will start executing the job in the background on fetching one from MQ. You might want to run it as a daemon or under process supervisors.")]),e._v(" "),a("p",[e._v("For example, in Python-RQ,")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ pipenv run rq worker\n")])])]),a("p",[e._v("For example, in Celery,")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ pipenv run celery -A tasks worker\n")])])]),a("p",[e._v("For example, in Sidekiq,")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ bundle "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exec")]),e._v(" sidekiq\n")])])]),a("h3",{attrs:{id:"monitoring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#monitoring"}},[e._v("#")]),e._v(" Monitoring")]),e._v(" "),a("p",[e._v("Since Job Queue process runs in the background, so monitoring is a battery-included feature. It often provides you some job statistics like below:")]),e._v(" "),a("ul",[a("li",[e._v("How many jobs in progress, or failed.")]),e._v(" "),a("li",[e._v("How many workers in idle, or busy.")]),e._v(" "),a("li",[e._v("How many jobs it has handled.")]),e._v(" "),a("li",[e._v("etc.")])]),e._v(" "),a("p",[e._v("The Job Queue framework often provides two kinds of interfaces:")]),e._v(" "),a("ul",[a("li",[e._v("A command-line interface that can show job statistics, often with color bars.")]),e._v(" "),a("li",[e._v("A web dashboard running in parallel with worker processes. This also requires to run an extra admin web process alongside with the Job Queue. The basic theory is to let the admin web process connect to Message Queue for statistics.")])]),e._v(" "),a("h3",{attrs:{id:"job-context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#job-context"}},[e._v("#")]),e._v(" Job Context")]),e._v(" "),a("p",[e._v("Below lists some common seen job context data:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("job.id")]),e._v(" is a reference. We use it to query job context from Message Queue as well. UUID is usually to be the ID generator.")]),e._v(" "),a("li",[a("code",[e._v("job.function")]),e._v(" is a reference of object that tells consumer how to run the job. It can be an import string, or a code object.")]),e._v(" "),a("li",[a("code",[e._v("job.args")]),e._v(" are a list of parameters to be passed into Job functions.")]),e._v(" "),a("li",[a("code",[e._v("job.ttl")]),e._v(", or time-to-live, is the maximum time of job presenting. The job will be dropped or raise error if the TTL is exceeded. This is mainly to prevent job stuck in the queue.")]),e._v(" "),a("li",[a("code",[e._v("job.timeout")]),e._v(" is the maximum time of job execution in worker.")]),e._v(" "),a("li",[a("code",[e._v("job.status")]),e._v(" describes if the job is in running, or has run successfully, or failed, etc. The field status reflects the life cycle of a job.")]),e._v(" "),a("li",[a("code",[e._v("job.result")]),e._v(" stores the return value of job function call.")])]),e._v(" "),a("h3",{attrs:{id:"result-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#result-storage"}},[e._v("#")]),e._v(" Result Storage")]),e._v(" "),a("p",[e._v("Job functions may return values. Some Job Queue frameworks support storing results into a backend. Some frameworks simply have no support for result storage for it might increase the complexity of implementation. Anyway, since we have the job id in the context, it's quite easy to store the id-result into key-value database for the Job Queue. It requires setting a storage backend when the Job Queue is setup.")]),e._v(" "),a("h3",{attrs:{id:"error-handling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-handling"}},[e._v("#")]),e._v(" Error Handling")]),e._v(" "),a("p",[e._v("Job Queue has below solutions for failed jobs usually:")]),e._v(" "),a("ul",[a("li",[e._v("Customize error hook function.")]),e._v(" "),a("li",[e._v("Log error tracebacks or integrate with Error Tracing system.")]),e._v(" "),a("li",[e._v("Backoff and retry the job if necessary.")]),e._v(" "),a("li",[e._v("Move dead jobs to a failed queue.")])]),e._v(" "),a("p",[e._v("When job failed, it's unrealistic to keep trying running the job. It's usually the maintainer's responsibility to intervene, either to purge the job or fix the code and re-run the job.")]),e._v(" "),a("h2",{attrs:{id:"comparisons"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#comparisons"}},[e._v("#")]),e._v(" Comparisons")]),e._v(" "),a("p",[e._v("Below lists popular Job Queue frameworks.")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.celeryproject.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Celery"),a("OutboundLink")],1),e._v(" "),a("ul",[a("li",[e._v("Advantages\n"),a("ul",[a("li",[e._v("Popular.")])])]),e._v(" "),a("li",[e._v("Disadvantages\n"),a("ul",[a("li",[e._v("Over-engineering. Do you really need Celery? Give Python-RQ a look.")]),e._v(" "),a("li",[e._v("Complex dependencies and code layers.")]),e._v(" "),a("li",[e._v("Hard to debug.")]),e._v(" "),a("li",[e._v("Complicated configuration.")]),e._v(" "),a("li",[e._v("Can build an async call hell if you wish.")])])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://python-rq.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Python-RQ"),a("OutboundLink")],1),e._v(" "),a("ul",[a("li",[e._v("Advantages\n"),a("ul",[a("li",[e._v("Simple, all document read through in 15min.")]),e._v(" "),a("li",[e._v("Easy to debug.")])])]),e._v(" "),a("li",[e._v("Disadvantages\n"),a("ul",[a("li",[e._v("Support only Redis as broker.")]),e._v(" "),a("li",[e._v("No delayed jobs. Do you think RQ is enough for you? Give celery a look.")]),e._v(" "),a("li",[e._v("Unreliable delivery.")])])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://dramatiq.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Dramatiq"),a("OutboundLink")],1),e._v(" "),a("ul",[a("li",[e._v("Advantages\n"),a("ul",[a("li",[e._v("Simple.")]),e._v(" "),a("li",[e._v("Kinda in the middle of Python-RQ and Celery.")]),e._v(" "),a("li",[e._v("Task prioritization.")]),e._v(" "),a("li",[e._v("Rate limiting.")]),e._v(" "),a("li",[e._v("Can retry.")])])]),e._v(" "),a("li",[e._v("Disadvantages\n"),a("ul",[a("li",[e._v("Limited Message Queue broker choices.")])])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/dcramer/taskmaster",target:"_blank",rel:"noopener noreferrer"}},[e._v("Taskmaster"),a("OutboundLink")],1),e._v(" "),a("ul",[a("li",[e._v("Advantages\n"),a("ul",[a("li",[e._v("designed for handling one-off tasks with large sets of tasks")])])]),e._v(" "),a("li",[e._v("Disadvantages\n"),a("ul",[a("li",[e._v("Poor document")])])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://sidekiq.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sidekiq"),a("OutboundLink")],1),e._v(" "),a("ul",[a("li",[e._v("Advantages\n"),a("ul",[a("li",[e._v("Popular")]),e._v(" "),a("li",[e._v("Rich document")])])]),e._v(" "),a("li",[e._v("Disadvantages\n"),a("ul",[a("li",[e._v("thread unsafety")])])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://resque.github.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Resque"),a("OutboundLink")],1),e._v(" "),a("ul",[a("li",[e._v("Advantages\n"),a("ul",[a("li",[e._v("Beautiful web dashboard")]),e._v(" "),a("li",[e._v("Simple")])])]),e._v(" "),a("li",[e._v("Disadvantages\n"),a("ul",[a("li",[e._v("Support only Redis as broker.")])])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/collectiveidea/delayed_job",target:"_blank",rel:"noopener noreferrer"}},[e._v("DelayedJob"),a("OutboundLink")],1),e._v(" "),a("ul",[a("li",[e._v("Advantages\n"),a("ul",[a("li",[e._v("Easy to use")]),e._v(" "),a("li",[e._v("Good Rails integration")])])]),e._v(" "),a("li",[e._v("Disadvantages\n"),a("ul",[a("li",[e._v("Performance")])])])])])]),e._v(" "),a("p",[e._v("Other solutions:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/brandonhilkert/sucker_punch",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sucker Punch"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/mperham/girl_friday",target:"_blank",rel:"noopener noreferrer"}},[e._v("Girl Friday"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://jqm.readthedocs.io/en/master/",target:"_blank",rel:"noopener noreferrer"}},[e._v("JQM"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/bee-queue/bee-queue",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bee-Queue"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/OptimalBits/bull",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bull"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/Automattic/kue",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kue"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"conclusion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),a("p",[e._v("Job queue is an essential component to extend request-response model for handling time-consuming jobs. Choose a Job Queue framework that has API and features you like, and make sure that you have solutions to overcome the disadvantages.")])])}),[],!1,null,null,null);t.default=n.exports}}]);